<section class="repositorios container">
    <h4 class="center-align">Repositórios Populares</h4>
    <div class="row" id="repo-container">
        <!-- Os cards serão gerados dinamicamente aqui -->
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', async function () {
    const username = 'marciopaiva'; // Nome de usuário do GitHub
    const apiUrl = `https://api.github.com/users/${username}/repos?sort=stars&per_page=6`; // Ordena por estrelas e limita a 6 repositórios

    try {
        const response = await fetch(apiUrl);
        if (!response.ok) {
            throw new Error('Erro ao carregar repositórios.');
        }
        const repositories = await response.json();

        const repoContainer = document.getElementById('repo-container');
        repoContainer.innerHTML = ''; // Limpa o container antes de adicionar novos cards

        repositories.forEach(repo => {
            const cardHtml = `
                <div class="col s12 m6 l4">
                    <div class="card hoverable">
                        <div class="card-content">
                            <span class="card-title">${repo.name}</span>
                            <p>${repo.description || 'Sem descrição disponível.'}</p>
                        </div>
                        <div class="card-action">
                            <a href="${repo.html_url}" target="_blank" class="blue-text text-darken-2">Ver no GitHub</a>
                            <span class="right grey-text"><i class="fas fa-star"></i> ${repo.stargazers_count}</span>
                        </div>
                    </div>
                </div>
            `;
            repoContainer.innerHTML += cardHtml;
        });
    } catch (error) {
        console.error(error);
        const repoContainer = document.getElementById('repo-container');
        repoContainer.innerHTML = '<p class="center-align red-text">Erro ao carregar repositórios. Por favor, tente novamente mais tarde.</p>';
    }
});
</script>